<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
// Syncronus Function

        // const token = ~~(Math.random() * 12345678)
        // const picture = ["1.jpg", "2.jpg", "3.jpg"]

        // function login(username) {
        //     return {token, username}
        // }

        // function getUser(token) {
        //     if(token) return {apiKey : 'xkey123'}
        // }

        // function getPicture(apiKey) {
        //     if(apiKey) return picture
        // }

        // const user = login("farid")
        // console.log(user)

        // const {apiKey} = getUser(user.token)
        // console.log(apiKey)

        // const pic = getPicture(apiKey)
        // console.log(pic)


// Callback 
        // const token = ~~(Math.random() * 12345678)
        // const picture = ["1.jpg", "2.jpg", "3.jpg"]

        // function login(username, callback) {
        //     setTimeout(() => {
        //         callback({token, username})
        //     }, 200);
        // }

        // function getUser(token, callback) {
        //     setTimeout(() => {
        //         if(token) callback({apiKey : 'xkey123'})
        //     }, 500);
        // }

        // function getPicture(apiKey, callback) {
        //     setTimeout(() => {
        //         if(apiKey) callback(picture)
        //     }, 1500);
        // }

        // login("farid", function(response) {
        //     const {token} = response
        //     console.log("token => ",token)
        //     getUser(token, function(response) {
        //         const {apiKey} = response
        //         console.log(apiKey)
        //         getPicture(apiKey, function(response) {
        //             console.log(response)
        //         })
        //     })
        // })


// Promise
        // const token = ~~(Math.random() * 12345678)
        // const picture = ["1.jpg", "2.jpg", "3.jpg"]

        // function login(username) {
        //     return new Promise ((success, failed) => {
        //         if(username != "farid") failed('sorry, wrong username')
        //         setTimeout(() => {
        //             success(token)
        //         }, 200);
                
        //     })
        // }

        // function getUser(token) {
        //     return new Promise((success, failed) => {
        //         if(!token) failed("sorry, no token!")
        //         setTimeout(() => {
        //             success({apiKey : 'xkey123'})
        //         }, 500);
        //     })
        // }

        // function getPicture(apiKey) {
        //     return new Promise((success, failed) => {
        //         if(!apiKey) failed('sorry, no apikey!')
        //         setTimeout(() => {
        //             success(picture)
        //         }, 1500);
        //     })
        // }

        // const user = login("farid")
        // user.then((res) => {
        //     const token = res
        //     console.log(token)
        //     getUser(token).then((res) => {
        //         const {apiKey} = res
        //         console.log(apiKey)
        //         getPicture(apiKey).then((res) => {
        //             const pic = res
        //             console.log(pic)
        //         })
        //     })
        // }).catch(err => console.log(err))


// Asyncronnus Functon
        // const token = ~~(Math.random() * 12345678)
        // const picture = ["1.jpg", "2.jpg", "3.jpg"]

        // function login(username) {
        //     return new Promise ((success, failed) => {
        //         if(username != "farid") failed('sorry, wrong username')
        //         setTimeout(() => {
        //             success(token)
        //         }, 200);
                
        //     })
        // }

        // function getUser(token) {
        //     return new Promise((success, failed) => {
        //         if(!token) failed("sorry, no token!")
        //         setTimeout(() => {
        //             success({apiKey : 'xkey123'})
        //         }, 500);
        //     })
        // }

        // function getPicture(apiKey) {
        //     return new Promise((success, failed) => {
        //         if(!apiKey) failed('sorry, no apikey!')
        //         setTimeout(() => {
        //             success(picture)
        //         }, 1500);
        //     })
        // }

        // async function userDisplay() {
        //     try{
        //     const token = await login('farid')
        //     const {apiKey} = await getUser(token)
        //     const pic = await getPicture(apiKey)
            
        //     console.log(`
        //     token anda adalah ${token}
        //     apiKey anda adalah ${apiKey}
        //     gambar yang anda request adalah ${pic}
        //     `)
        //     } catch(err) {
        //         console.log(err)
        //     }
        // }

        // userDisplay()
    </script>
</body>
</html>